{% extends "base.html"%}
{% block title%} Election Management {% endblock %}
{% block breadcrumb %}Election Management {% endblock %}
{% block content %}
<main class="p-6 space-y-6 bg-gray-100 min-h-screen">
    <!-- Election Management Header -->
    <div class="text-2xl font-bold text-dark-green">Election Management</div>

    <!-- Create New Election Section -->
    <section class="bg-white p-6 rounded-lg shadow-md">
        <h3 class="text-xl font-semibold mb-4">Create New Election</h3>
        <form class="space-y-4">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <!-- Election Title -->
                <div>
                    <label for="title" class="block text-sm font-medium">Election Title</label>
                    <input type="text" id="title" class="mt-1 block w-full p-2 border border-gray-300 rounded-lg">
                </div>
                <!-- Election Position -->
                <div>
                    <label for="position" class="block text-sm font-medium">Position</label>
                    <input type="text" id="position" class="mt-1 block w-full p-2 border border-gray-300 rounded-lg">
                </div>
            </div>
            <!-- Candidates -->
            <div>
                <label for="candidates" class="block text-sm font-medium">Candidates (comma-separated)</label>
                <input type="text" id="candidates" class="mt-1 block w-full p-2 border border-gray-300 rounded-lg">
            </div>
            <!-- Election Timeframe -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                    <label for="startDate" class="block text-sm font-medium">Start Date</label>
                    <input type="date" id="startDate" class="mt-1 block w-full p-2 border border-gray-300 rounded-lg">
                </div>
                <div>
                    <label for="endDate" class="block text-sm font-medium">End Date</label>
                    <input type="date" id="endDate" class="mt-1 block w-full p-2 border border-gray-300 rounded-lg">
                </div>
            </div>
            <!-- Submit Button -->
            <button type="submit" class="w-full md:w-auto bg-dark-green text-white px-6 py-2 rounded-lg">Create
                Election</button>
        </form>
    </section>

    <!-- Manage Active Elections Section -->
    <section class="bg-white p-6 rounded-lg shadow-md">
        <h3 class="text-xl font-semibold mb-4">Manage Active Elections</h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div class="bg-gray-50 p-4 rounded-lg shadow-md">
                <h4 class="text-lg font-bold">Presidential Election 2024</h4>
                <p>Position: President</p>
                <p>Start Date: 2024-10-01</p>
                <p>End Date: 2024-10-15</p>
                <div class="mt-4 flex space-x-2">
                    <button id="modifyElectionBtn" class="bg-blue-500 text-white px-4 py-2 rounded-lg">Modify</button>
                    <button id="cancelElectionBtn" class="bg-red-500 text-white px-4 py-2 rounded-lg">Cancel</button>
                </div>
            </div>

            <!-- Add more active elections here as needed -->
        </div>
        <!-- Modify Election Modal -->
        <div id="modifyModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
            <div class="bg-white rounded-lg p-6 shadow-lg w-1/3">
                <h2 class="text-xl font-bold text-dark-green mb-4">Modify Election</h2>
                <form>
                    <label class="block mb-2 text-gray-700" for="electionName">Election Name</label>
                    <input type="text" id="electionName" class="w-full p-2 border border-gray-300 rounded mb-4"
                        placeholder="Presidential Election 2024">

                    <label class="block mb-2 text-gray-700" for="startDate">Start Date</label>
                    <input type="date" id="startDate" class="w-full p-2 border border-gray-300 rounded mb-4">

                    <label class="block mb-2 text-gray-700" for="endDate">End Date</label>
                    <input type="date" id="endDate" class="w-full p-2 border border-gray-300 rounded mb-4">

                    <div class="flex justify-end">
                        <button type="button" id="closeModifyModal"
                            class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-700 transition mr-2">Cancel</button>
                        <button type="submit"
                            class="bg-dark-green text-white px-4 py-2 rounded hover:bg-green-700 transition">Save</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Cancel Election Modal -->
        <div id="cancelModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
            <div class="bg-white rounded-lg p-6 shadow-lg w-1/3">
                <h2 class="text-xl font-bold text-red-500 mb-4">Cancel Election</h2>
                <p class="text-gray-700 mb-4">Are you sure you want to cancel the <strong>Presidential Election
                        2024</strong>?</p>
                <div class="flex justify-end">
                    <button type="button" id="closeCancelModal"
                        class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-700 transition mr-2">No</button>
                    <button type="button"
                        class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-700 transition">Yes, Cancel</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Election History Section -->
    <section class="bg-white p-6 rounded-lg shadow-md">
        <h3 class="text-xl font-semibold mb-4">Election History</h3>
        <table class="table-auto w-full text-left">
            <thead class="bg-dark-green text-white">
                <tr>
                    <th class="p-2">Election Title</th>
                    <th class="p-2">Position</th>
                    <th class="p-2">Start Date</th>
                    <th class="p-2">End Date</th>
                </tr>
            </thead>
            <tbody>
                <tr class="bg-gray-100">
                    <td class="p-2">Senatorial Election 2023</td>
                    <td class="p-2">Senator</td>
                    <td class="p-2">2023-09-01</td>
                    <td class="p-2">2023-09-10</td>
                </tr>
                <tr class="bg-white">
                    <td class="p-2">Local Council Election 2022</td>
                    <td class="p-2">Council Member</td>
                    <td class="p-2">2022-07-15</td>
                    <td class="p-2">2022-07-25</td>
                </tr>
            </tbody>
        </table>
    </section>
</main>
{% endblock %}

{% block extra_js %}
<script>
    // Get buttons and modals
    const modifyBtn = document.getElementById('modifyElectionBtn');
    const cancelBtn = document.getElementById('cancelElectionBtn');
    const modifyModal = document.getElementById('modifyModal');
    const cancelModal = document.getElementById('cancelModal');

    // Close buttons
    const closeModifyModal = document.getElementById('closeModifyModal');
    const closeCancelModal = document.getElementById('closeCancelModal');

    // Function to open a modal
    function openModal(modal) {
        modal.classList.remove('hidden');
    }

    // Function to close a modal
    function closeModal(modal) {
        modal.classList.add('hidden');
    }

    // Open Modify Election Modal
    modifyBtn.addEventListener('click', () => openModal(modifyModal));

    // Open Cancel Election Modal
    cancelBtn.addEventListener('click', () => openModal(cancelModal));

    // Close Modify Election Modal
    closeModifyModal.addEventListener('click', () => closeModal(modifyModal));

    // Close Cancel Election Modal
    closeCancelModal.addEventListener('click', () => closeModal(cancelModal));
</script>
{% endblock %}